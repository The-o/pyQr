# Что это такое

Програма, позволяющая читать QR-коды с экрана и копировать их содержимое в буфер обмена, а также позволяющая генерировать QR-коды из текста, содержащегося в буфере обмена.

# Установка

Для работы и установки pyQr необходим установленный python3!

## С помощью pip из github'а
```sh
pip3 install git+https://github.com/The-o/pyQr.git@master
```

## С помощью pip локально

1. Скачать скрипты [pqQr](https://raw.githubusercontent.com/The-o/pyQr/master/pyQr) и [setup.py](https://raw.githubusercontent.com/The-o/pyQr/master/setup.py) в пустую директорию

2. В этой директории выполнить:
    ```sh
    pip3 install .
    ```

## Руками

1. Скачать скрипт [pqQr](https://raw.githubusercontent.com/The-o/pyQr/master/pyQr)

2. Установить зависимости:
    ```sh
    pip3 install pyzbar wxPython qrcode
    ```
## Если в Ubuntu pip ругается при установке wxPython:

```sh
sudo apt install python3-wxgtk4.0
```

Потом повторить установку выбранным способом

# Запуск:

## После установки с помощью pip
Из командной строки:

```sh
pyQr
```
## После установки руками
Из командной строки:

```sh
python3 <путь, куда был скачан скрипт pyQr>
```

## Если в Ubuntu будет ругаться "Unable to find zbar shared library":

```sh
sudo apt install libzbar0
```
# Как использовать:

После запуска в системном трее появится иконка в виде QR-кода*.

При клике на неё правой кнопкой мыши в случае, если на экране отображаются QR-коды:
* Экран затемнится кроме распознанных QR-кодов;
* По наведению на распознанный QR-код будет отображена всплывающая подсказка с распознанным текстом;
* При клике на распознанный QR-код его текст будет скопирован в буфер обмена
* При клике вне распознанного QR-кода, затемнение экрана исчезнет, в буфер ничего не скопируется

При клике левой кнопкой мыши откроется меню с двумя пунктами:
* Сканировать QR
* Сгенерировать QR
* Выход

Клик на пункте "Сканировать QR" аналогичен по действию клику по иконке системного трея.

При клике на пункт "Сгенерировать QR", если в буфере обмена есть текст, будет сгенерирован и отбражён QR-код в новом окне. По клику на QR-код окно будет закрыто. Если в буфере обмена нет текста или размер текста превышает 2953 байт, будет выведено сообщение.

При клике на пункт Выход произойдёт выход из программы.

# * Окружение, не поддерживающее системный трей

Некоторое окружение не поддерживает системный трей. При запуске pyQr в таком окружении будет выдано сообщение:
```
К сожалению, в вашем окружении отсутствует системный трей
Пожалуйста, воспользуйтесь командами:
* pyQr gen  - для генерирования QR-кода
* pyQr scan - для сканирования QR-кодов
Эти команды можно добавить в ярлыки на панели быстрого запуска
```

В подобном окружении возможно использовать pyQr из командной строки как указано выше или назначить эти команды ярлыкам панелей быстрого запуска, если таковые в окружении присутствуют.